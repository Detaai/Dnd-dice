<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D&D Dice Roller</title>
    <style>
        body { font-family: Arial, sans-serif; background: #222; color: #fff; text-align: center; }
        .container { margin-top: 50px; }
        select, button { font-size: 1.2em; margin: 10px; }
        #dice-face { font-size: 5em; margin: 40px 0; transition: transform 0.2s; }
        .rolling { animation: shake 0.5s infinite; }
        @keyframes shake {
            0% { transform: rotate(-10deg) scale(1.1); }
            50% { transform: rotate(10deg) scale(0.9); }
            100% { transform: rotate(-10deg) scale(1.1); }
        }
        .weapon-btn {
            background: linear-gradient(145deg, #444, #666);
            color: #fff;
            border: 2px solid #888;
            padding: 12px 20px;
            margin: 8px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            display: inline-block;
        }
        .weapon-btn:hover {
            background: linear-gradient(145deg, #555, #777);
            border-color: #aaa;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.5);
        }
        .weapon-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="dice-title" style="cursor:pointer;">D&D Dice Roller</h1>
        <label id="choose-label" for="dice-select" style="cursor:pointer;">Choose a die:</label>
        <label for="dice-count">Number of dice:</label>
        <input type="text" id="dice-count" value="1" style="width:50px;">
        <div id="dice-selectors" style="margin:10px 0;"></div>
        <button id="roll-btn">Roll!</button>
        <div id="dice-faces" style="display:flex;justify-content:center;gap:20px;margin-top:20px;"></div>
        <div id="dice-total" style="font-size:2em;margin-top:20px;"></div>
        <div id="fail-message" style="display:none;font-size:3em;font-weight:bold;color:red;margin-top:30px;"></div>
    </div>
    
    <!-- Character Weapons Section -->
    <div class="container" style="margin-top: 40px; border-top: 2px solid #444; padding-top: 30px;">
        <h2>Character Weapons</h2>
        
        <!-- Initiative -->
        <div style="margin: 20px 0;">
            <h3>Initiative</h3>
            <button class="weapon-btn" onclick="rollInitiative()">Roll Initiative (1d20 + 2)</button>
        </div>
        
        <!-- Short Range -->
        <div style="margin: 20px 0;">
            <h3>Short Range</h3>
            <button class="weapon-btn" onclick="rollShortRangeFirstTurn()">First Turn (3d6 + 1d8 + 12 + DC 12 Wis)</button>
            <button class="weapon-btn" onclick="rollShortRangeOtherTurns()">Other Turns (2d6 + 2 + DC 12 Wis)</button>
            <button class="weapon-btn" onclick="rollShortRangePoisonArrow()">Poison Arrow (3d6 + 12 + DC 12 Wis)</button>
            <div id="poison-counter-short" style="margin-top: 10px; color: #ff6; font-weight: bold;">Poison Arrows: 5/5 remain</div>
        </div>
        
        <!-- Long Range -->
        <div style="margin: 20px 0;">
            <h3>Long Range</h3>
            <button class="weapon-btn" onclick="rollLongRangeFirstTurn()">First Turn (2d6 + 2d8 + 13)</button>
            <button class="weapon-btn" onclick="rollLongRangeOtherTurns()">Other Turns (2d6 + 1d8 + 13)</button>
            <button class="weapon-btn" onclick="rollLongRangePoisonArrow()">Poison Arrow (2d6 + 1d8 + 12 + DC 12 Wis)</button>

            <div id="poison-counter-long" style="margin-top: 10px; color: #ff6; font-weight: bold;">Poison Arrows: 5/5 remain</div>

            <button class="weapon-btn" onclick="openMagicRingSelector()" style="margin-top: 10px;">Magic Rings</button>

        </div>



        <!-- Magic Ring Selection Modal -->

        <div id="ring-selector-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center;">

            <div style="background: #333; padding: 30px; border-radius: 10px; border: 2px solid #888; max-width: 500px; width: 90%;">

                <h3 style="margin-top: 0; color: #0f0;">Select Magic Rings (Max 3)</h3>

                <div id="ring-list" style="margin: 20px 0; text-align: left;">

                    <label style="display: block; margin: 10px 0; padding: 10px; background: #444; border-radius: 5px; cursor: pointer;">

                        <input type="checkbox" value="echo-band" style="margin-right: 10px;">

                        <span style="color: #fff; font-weight: bold;">Echo Band</span>

                        <div style="color: #aaa; font-size: 0.9em; margin-top: 5px; margin-left: 25px;">Create an echo of any object that fully passes through, this echo follows the exact path of the original and cannot be separated, the echo only lasts for one minute and does half damage</div>

                    </label>

                </div>

                <div style="margin-top: 20px; text-align: center;">

                    <button class="weapon-btn" onclick="confirmRingSelection()" style="margin: 5px;">Continue</button>

                    <button class="weapon-btn" onclick="closeRingSelector()" style="margin: 5px;">Cancel</button>

                </div>

            </div>

        </div>



        <!-- Magic Ring Status Display -->

        <div id="ring-status" style="display: none; margin: 20px 0; padding: 20px; background: #333; border-radius: 8px; border: 2px solid #888;">

            <h3 style="color: #0f0;">Equipped Magic Rings</h3>

            <div id="equipped-rings" style="text-align: left; color: #fff;"></div>

            <button class="weapon-btn" onclick="longRest()" style="margin-top: 15px;">Long Rest</button>

        </div>


        <!-- Weapon Results -->
        <div id="weapon-results" style="margin-top: 30px; padding: 20px; background: #333; border-radius: 8px; min-height: 100px;">
            <h3>Results</h3>
            <div id="weapon-output" style="font-size: 1.5em; color: #0f0;"></div>
        </div>
    </div>
    
    <script src="dice.js"></script>
</body>
</html>
